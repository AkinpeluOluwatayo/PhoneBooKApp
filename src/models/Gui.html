<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PhoneBook App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
        }

        #actionForm {
            display: none;
            margin-top: 20px;
        }

        #actionForm input {
            padding: 5px;
            margin: 5px;
        }

        #searchResult {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
<h1>Welcome To Tayo PhoneBook App</h1>


<div id="mainMenu">
    <button onclick="startAddContact()">Add Contact</button>
    <button onclick="startSearchContact()">Search Contact</button>
    <button onclick="startRemoveContact()">Remove Contact</button>
</div>


<div id="actionForm">
    <input type="text" id="nameInput" placeholder="Contact Name">
    <input type="text" id="phoneInput" placeholder="Phone Number (for remove only)">
    <button id="saveButton">Submit</button>
    <button onclick="backToMenu()">Cancel</button>
</div>


<div id="searchResult"></div>

<script>
    class Contact {
        constructor(name, phoneNumber) {
            this.name = name;
            this.phoneNumber = phoneNumber;
        }
    }

    class User {
        constructor(name, password) {
            this.name = name;
            this.password = password;
            this.contacts = [];
        }

        addContact(name, phoneNumber) {
            const newContact = new Contact(name, phoneNumber);
            this.contacts.push(newContact);
            return `Added ${name} successfully`;
        }

        removeContact(name, phoneNumber) {
            const index = this.contacts.findIndex(c => c.name === name && c.phoneNumber === phoneNumber);
            if (index !== -1) {
                this.contacts.splice(index, 1);
                return `Removed ${name} successfully`;
            } else {
                return `Contact not found`;
            }
        }

        searchContact(name) {
            const contact = this.contacts.find(c => c.name === name);
            return contact ? `Found: ${contact.name} - ${contact.phoneNumber}` : "Contact not found";
        }
    }

    const user = new User("Tayo", "1234");

    const mainMenu = document.getElementById("mainMenu");
    const actionForm = document.getElementById("actionForm");
    const saveButton = document.getElementById("saveButton");
    const nameInput = document.getElementById("nameInput");
    const phoneInput = document.getElementById("phoneInput");
    const searchResult = document.getElementById("searchResult");

    let currentAction = ""; // "add", "remove", "search"


    function startAddContact() {
        currentAction = "add";
        mainMenu.style.display = "none";
        actionForm.style.display = "block";
        saveButton.textContent = "Add Contact";
        nameInput.value = "";
        phoneInput.value = "";
        phoneInput.style.display = "inline-block"; // show phone input
        searchResult.innerHTML = "";
    }


    function startSearchContact() {
        currentAction = "search";
        mainMenu.style.display = "none";
        actionForm.style.display = "block";
        saveButton.textContent = "Search";
        nameInput.value = "";
        phoneInput.value = "";
        phoneInput.style.display = "none"; // no phone needed for search
        searchResult.innerHTML = "";
    }

    function startRemoveContact() {
        currentAction = "remove";
        mainMenu.style.display = "none";
        actionForm.style.display = "block";
        saveButton.textContent = "Remove Contact";
        nameInput.value = "";
        phoneInput.value = "";
        phoneInput.style.display = "inline-block"; // phone input required
        searchResult.innerHTML = "";
    }

    // Back to main menu
    function backToMenu() {
        actionForm.style.display = "none";
        mainMenu.style.display = "block";
        searchResult.innerHTML = "";
    }

    saveButton.onclick = () => {
        const name = nameInput.value.trim();
        const phone = phoneInput.value.trim();
        if (!name || (currentAction === "remove" && !phone)) {
            alert("Please fill in required fields.");
            return;
        }

        let message = "";
        if (currentAction === "add") {
            message = user.addContact(name, phone);
            alert(message);
        } else if (currentAction === "remove") {
            message = user.removeContact(name, phone);
            alert(message);
        } else if (currentAction === "search") {
            message = user.searchContact(name);
            searchResult.innerHTML = message;
        }

        if (currentAction !== "search") {
            backToMenu();
        }
    };
</script>
</body>
</html>